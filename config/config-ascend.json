{
    "output": {
        "path": "/app/output"
    },
    "query": {
        "path": "/app/config/{task}/query.json"
    },
    "callback_url": "http://localhost:8001/receive-callback",
    "llm": {
        "chat": {
            "model": "/models/qwen3-32b",
            "dtype": "bfloat16",
            "tensor_parallel_size": 2,
            "gpu_memory_utilization": 0.9,
            "max_num_batched_tokens": 14336,
            "max_model_len": 14336,
            "max_num_seqs": 64,
            "disable_log_stats": true,
            "enable_prefix_caching": false,
            "enable_chunked_prefill": false,
            "enforce_eager": false,
            "seed": 2025,
            "device": "1,2"
        },
        "embedding": {
            "model": "/models/qwen3-embedding-8b",
            "dtype": "bfloat16",
            "tensor_parallel_size": 1,
            "gpu_memory_utilization": 0.9,
            "max_num_batched_tokens": 14336,
            "max_model_len": 14336,
            "max_num_seqs": 64,
            "disable_log_stats": true,
            "enable_prefix_caching": false,
            "enable_chunked_prefill": false,
            "enforce_eager": false,
            "seed": 2025,
            "task": "embed",
            "device": "3"
        }
    },
    "pipeline": {
        "seed": 2025,
        "mineru": {
            "config": "/app/config/mineru-ascend.json",
            "mode": "pipeline",
            "backend": "pipeline",
            "lang": "ch",
            "parse_method": "auto",
            "vram_size": 32,
            "device": "0"
        },
        "query_optimize": {
            "model": "chat",
            "generate_kwargs": {
                "top_p": 0.95,
                "temperature": 0.6,
                "max_tokens": 8192,
                "repetition_penalty": 1.0,
                "skip_special_tokens": true
            },
            "keyword_query_prompt": "/app/config/{task}/keyword_query_prompt.txt",
            "embedding_query_prompt": "/app/config/{task}/embedding_query_prompt.txt",
            "llm_query_prompt": "/app/config/{task}/llm_query_prompt.txt"
        },
        "keyword_recall": {
            "model": "bm25",
            "topk": 10,
            "bm25_k1": 1.5,
            "bm25_b": 0.2
        },
        "embedding_recall": {
            "model": "embedding",
            "topk": 10,
            "max_length": 10240,
            "prompt": "/app/config/{task}/embedding_match_prompt.txt"
        },
        "llm_recall": {
            "model": "chat",
            "topk": 3,
            "lower_than": 0.95,
            "batch_size": 1,
            "max_length": 10240,
            "generate_kwargs": {
                "max_tokens": 1,
                "prompt_logprobs": 1,
                "skip_special_tokens": false
            },
            "prompt": "/app/config/{task}/llm_match_prompt.txt"
        },
        "merge_recall": {
            "topk": 10
        },
        "compress": {
            "model": "chat",
            "need_compress_length": 10240,
            "generate_kwargs": {
                "top_p": 0.95,
                "temperature": 0.4,
                "max_tokens": 8192,
                "repetition_penalty": 1.05,
                "skip_special_tokens": true
            },
            "prompt": "/app/config/{task}/compress_prompt.txt"
        },
        "chat": {
            "model": "chat",
            "generate_kwargs": {
                "top_p": 0.95,
                "temperature": 0.5,
                "max_tokens": 8192,
                "repetition_penalty": 1.1,
                "skip_special_tokens": true
            },
            "prompt": "/app/config/{task}/chat_prompt.txt"
        }
    }
}
